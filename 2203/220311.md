#### Today 배운 것 (3D 연출 / 쿨타임 기능으로 패킷 , 고민)
------
##### 문제 : 콘텐츠에서 첫 3D 모델링 연출 과정에서만 Light가 2배 더 밝아 보이는 현상
###### 조건 : 첫 연출 과정에서만 해당 현상 발생
###### 원인 : postEffect on/off 순서. 에디터 상으론 연출의 postEffect 이 활성화가 되어있지만, 실제적으론 비활성화인 채로 연출이 보여지고 있었다. 
###### 해결 : 기존 게임상의 postEffect off조절과 연출의 postEffect on처리 순서를 함께 세팅하지 않고, 유니티의 생명 주기를 생각하여 연출 prefab을 후 순위 배치함.
(Awake -> Enable 로 옮기고 활성화 체크 수행)

연출의 prefab 로딩이 비동기화여서 postEffect on/off 순서 영향이 없을 줄 알았지만, 문제가 있었다.

----
#### 쿨타임 기능을 적용하면서 해본 고민 (네트워크 불안정)
##### 문제 : 가치가 있는 아이템 사용 손실을 막기 위해 개선 작업이 있었다. 해당 아이템을 사용 후, x초 대기 시간을 통해 아이템 손실을 막는 기능이다.(쿨타임)
클라이언트에선 아이템 사용 시, 사용 버튼을 x초 막는 클라이언트 방법을 선택했다. 

하지만, 네트워크 불안정/약전계 같은 고민을 하다 개인적으로 이러한 생각을 했다.

[문제가 발생할 수 있는 과정]

0. x초 간의 블럭상태
1. x초 뒤, 블럭이 해제됐지만, 일어날 이벤트가 발생하지 않음 (서버 패킷 전달 받지 못함)
2. 패킷이 오기전, 한 번 더 서버에게 사용 패킷 요청을 보냄 (즉, 아이템 사용)
3. 2초뒤, 첫번째의 요청 패킷이 옴
4. 두번째의 요청 패킷이 뒤따라 옴
5. 사용자의 입장에서 순간적으로 두번 사용한 상태가 되버림

이러한 경우가 발생할 수 있다고 생각하고, 서버측에 문의드렸다.
또한 다른 영향이 발생할 수 있기에 크로스 체킹이 필요할 것 같았다.

